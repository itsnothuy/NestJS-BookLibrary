# Visual System Architecture Diagrams

## ğŸ¯ Production-Ready System Diagrams

### 1. High-Level System Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                               CLIENT LAYER                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚   Chrome    â”‚    â”‚   Firefox   â”‚    â”‚   Safari    â”‚    â”‚   Mobile    â”‚      â”‚
â”‚  â”‚   Browser   â”‚    â”‚   Browser   â”‚    â”‚   Browser   â”‚    â”‚    App      â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚         â”‚                    â”‚                   â”‚                   â”‚         â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                              â”‚                   â”‚                             â”‚
â”‚                              â–¼                   â–¼                             â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚                    â”‚           React SPA                      â”‚                 â”‚
â”‚                    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚                 â”‚
â”‚                    â”‚  â”‚         HeroUI Components           â”‚ â”‚                 â”‚
â”‚                    â”‚  â”‚  â€¢ Button, Input, Modal, Table     â”‚ â”‚                 â”‚
â”‚                    â”‚  â”‚  â€¢ Responsive Design               â”‚ â”‚                 â”‚
â”‚                    â”‚  â”‚  â€¢ Dark/Light Theme Support       â”‚ â”‚                 â”‚
â”‚                    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚                 â”‚
â”‚                    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚                 â”‚
â”‚                    â”‚  â”‚         State Management            â”‚ â”‚                 â”‚
â”‚                    â”‚  â”‚  â€¢ React Context (Auth)            â”‚ â”‚                 â”‚
â”‚                    â”‚  â”‚  â€¢ Local State (Component)         â”‚ â”‚                 â”‚
â”‚                    â”‚  â”‚  â€¢ Form State (Controlled)         â”‚ â”‚                 â”‚
â”‚                    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚                 â”‚
â”‚                    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚                 â”‚
â”‚                    â”‚  â”‚         Routing System              â”‚ â”‚                 â”‚
â”‚                    â”‚  â”‚  â€¢ React Router v6                 â”‚ â”‚                 â”‚
â”‚                    â”‚  â”‚  â€¢ Protected Routes               â”‚ â”‚                 â”‚
â”‚                    â”‚  â”‚  â€¢ Role-based Navigation          â”‚ â”‚                 â”‚
â”‚                    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚                 â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                              â”‚
                                    HTTPS/REST API
                                  (JSON + JWT Token)
                                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            APPLICATION LAYER                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                          NestJS Backend Server                             â”‚   â”‚
â”‚  â”‚                                                                             â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚    Auth     â”‚    â”‚    Books    â”‚    â”‚    Users    â”‚    â”‚   Health    â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ Controller  â”‚    â”‚ Controller  â”‚    â”‚ Controller  â”‚    â”‚ Controller  â”‚  â”‚   â”‚
â”‚  â”‚  â”‚             â”‚    â”‚             â”‚    â”‚             â”‚    â”‚             â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ POST login  â”‚    â”‚ GET /books  â”‚    â”‚ GET /users  â”‚    â”‚ GET /health â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ POST signup â”‚    â”‚ POST /books â”‚    â”‚ POST /users â”‚    â”‚             â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ GET /me     â”‚    â”‚ PATCH/:id   â”‚    â”‚ PATCH/:id   â”‚    â”‚             â”‚  â”‚   â”‚
â”‚  â”‚  â”‚             â”‚    â”‚ DELETE/:id  â”‚    â”‚ DELETE/:id  â”‚    â”‚             â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â”‚         â”‚                    â”‚                   â”‚                   â”‚     â”‚   â”‚
â”‚  â”‚         â–¼                    â–¼                   â–¼                   â–¼     â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚   â”‚
â”‚  â”‚  â”‚    Auth     â”‚    â”‚    Books    â”‚    â”‚    Users    â”‚                    â”‚   â”‚
â”‚  â”‚  â”‚   Service   â”‚    â”‚   Service   â”‚    â”‚   Service   â”‚                    â”‚   â”‚
â”‚  â”‚  â”‚             â”‚    â”‚             â”‚    â”‚             â”‚                    â”‚   â”‚
â”‚  â”‚  â”‚ â€¢ JWT Gen   â”‚    â”‚ â€¢ CRUD Ops  â”‚    â”‚ â€¢ User Mgmt â”‚                    â”‚   â”‚
â”‚  â”‚  â”‚ â€¢ Password  â”‚    â”‚ â€¢ Validationâ”‚    â”‚ â€¢ Role Mgmt â”‚                    â”‚   â”‚
â”‚  â”‚  â”‚ â€¢ Hashing   â”‚    â”‚ â€¢ Transform â”‚    â”‚ â€¢ Auth      â”‚                    â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚   â”‚
â”‚  â”‚         â”‚                    â”‚                   â”‚                        â”‚   â”‚
â”‚  â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚   â”‚
â”‚  â”‚                              â”‚                                            â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚                    Security Middleware                             â”‚  â”‚   â”‚
â”‚  â”‚  â”‚                                                                     â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â”‚ JWT Auth    â”‚  â”‚ Role-based  â”‚  â”‚ CORS Policy â”‚  â”‚ Rate     â”‚   â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â”‚ Guard       â”‚  â”‚ Guards      â”‚  â”‚ Handler     â”‚  â”‚ Limiting â”‚   â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â”‚             â”‚  â”‚             â”‚  â”‚             â”‚  â”‚          â”‚   â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â”‚ â€¢ Validate  â”‚  â”‚ â€¢ Admin     â”‚  â”‚ â€¢ Origins   â”‚  â”‚ â€¢ API    â”‚   â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â”‚ â€¢ Extract   â”‚  â”‚ â€¢ Student   â”‚  â”‚ â€¢ Methods   â”‚  â”‚ â€¢ Protectâ”‚   â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â”‚ â€¢ User Info â”‚  â”‚ â€¢ Check     â”‚  â”‚ â€¢ Headers   â”‚  â”‚          â”‚   â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â”‚                              â”‚                                            â”‚   â”‚
â”‚  â”‚                              â–¼                                            â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚                      Data Access Layer                             â”‚  â”‚   â”‚
â”‚  â”‚  â”‚                                                                     â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â”‚    User     â”‚              â”‚    Book     â”‚                        â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â”‚ Repository  â”‚              â”‚ Repository  â”‚                        â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â”‚             â”‚              â”‚             â”‚                        â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â”‚ â€¢ Find by   â”‚              â”‚ â€¢ Find by   â”‚                        â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â”‚   UUID      â”‚              â”‚   UUID      â”‚                        â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â”‚ â€¢ Create    â”‚              â”‚ â€¢ Create    â”‚                        â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â”‚ â€¢ Update    â”‚              â”‚ â€¢ Update    â”‚                        â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â”‚ â€¢ Delete    â”‚              â”‚ â€¢ Delete    â”‚                        â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â”‚ â€¢ List All  â”‚              â”‚ â€¢ List All  â”‚                        â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚  â”‚   â”‚
â”‚  â”‚  â”‚                              â”‚                                       â”‚  â”‚   â”‚
â”‚  â”‚  â”‚                              â–¼                                       â”‚  â”‚   â”‚
â”‚  â”‚  â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚  â”‚   â”‚
â”‚  â”‚  â”‚         â”‚             TypeORM ORM                 â”‚                  â”‚  â”‚   â”‚
â”‚  â”‚  â”‚         â”‚  â€¢ Entity Mapping                      â”‚                  â”‚  â”‚   â”‚
â”‚  â”‚  â”‚         â”‚  â€¢ Query Builder                       â”‚                  â”‚  â”‚   â”‚
â”‚  â”‚  â”‚         â”‚  â€¢ Migration System                    â”‚                  â”‚  â”‚   â”‚
â”‚  â”‚  â”‚         â”‚  â€¢ Connection Pool                     â”‚                  â”‚  â”‚   â”‚
â”‚  â”‚  â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                              â”‚
                                     SQL Connection
                                    (Connection Pool)
                                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              DATA LAYER                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                        MariaDB Database                                    â”‚   â”‚
â”‚  â”‚                      (Docker Container)                                   â”‚   â”‚
â”‚  â”‚                                                                             â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚   â”‚
â”‚  â”‚  â”‚     users       â”‚                    â”‚     books       â”‚                â”‚   â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                â”‚   â”‚
â”‚  â”‚  â”‚ id (AUTO_INC)   â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚ id (AUTO_INC)   â”‚                â”‚   â”‚
â”‚  â”‚  â”‚ uuid (CHAR 36)  â”‚  Foreign Key       â”‚ uuid (CHAR 36)  â”‚                â”‚   â”‚
â”‚  â”‚  â”‚ email (VARCHAR) â”‚  Relations         â”‚ title (VARCHAR) â”‚                â”‚   â”‚
â”‚  â”‚  â”‚ password (HASH) â”‚                    â”‚ author (VARCHAR)â”‚                â”‚   â”‚
â”‚  â”‚  â”‚ role (ENUM)     â”‚                    â”‚ isbn (VARCHAR)  â”‚                â”‚   â”‚
â”‚  â”‚  â”‚ created_at      â”‚                    â”‚ published_year  â”‚                â”‚   â”‚
â”‚  â”‚  â”‚ updated_at      â”‚                    â”‚ created_at      â”‚                â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚ updated_at      â”‚                â”‚   â”‚
â”‚  â”‚           â”‚                             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚   â”‚
â”‚  â”‚           â”‚                                      â”‚                         â”‚   â”‚
â”‚  â”‚           â–¼                                      â–¼                         â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚   â”‚
â”‚  â”‚  â”‚    Indexes      â”‚                    â”‚    Indexes      â”‚                â”‚   â”‚
â”‚  â”‚  â”‚ â€¢ idx_uuid      â”‚                    â”‚ â€¢ idx_uuid      â”‚                â”‚   â”‚
â”‚  â”‚  â”‚ â€¢ idx_email     â”‚                    â”‚ â€¢ idx_title     â”‚                â”‚   â”‚
â”‚  â”‚  â”‚ â€¢ idx_role      â”‚                    â”‚ â€¢ idx_author    â”‚                â”‚   â”‚
â”‚  â”‚  â”‚ â€¢ idx_created   â”‚                    â”‚ â€¢ idx_isbn      â”‚                â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚ â€¢ idx_created   â”‚                â”‚   â”‚
â”‚  â”‚                                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚   â”‚
â”‚  â”‚                                                                             â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚  â”‚                        Security Features                           â”‚   â”‚   â”‚
â”‚  â”‚  â”‚                                                                     â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ Dual-ID Pattern (Internal ID + Client UUID)                     â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ Password Hashing (bcrypt with salt)                             â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ Connection Encryption (TLS)                                     â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ Role-based Access Control                                       â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ Data Validation (Schema Constraints)                            â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ Audit Trail (created_at, updated_at)                            â”‚   â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. Authentication Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             â”‚                          â”‚             â”‚                          â”‚             â”‚
â”‚   Browser   â”‚                          â”‚   Server    â”‚                          â”‚  Database   â”‚
â”‚             â”‚                          â”‚             â”‚                          â”‚             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                                         â”‚                                         â”‚
       â”‚ 1. POST /auth/login                     â”‚                                         â”‚
       â”‚ { email, password }                     â”‚                                         â”‚
       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                                         â”‚
       â”‚                                         â”‚ 2. Find user by email                  â”‚
       â”‚                                         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
       â”‚                                         â”‚                                         â”‚
       â”‚                                         â”‚ 3. User record                         â”‚
       â”‚                                         â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
       â”‚                                         â”‚                                         â”‚
       â”‚                                         â”‚ 4. bcrypt.compare(password, hash)      â”‚
       â”‚                                         â”‚                                         â”‚
       â”‚                                         â”‚ 5. Password valid                      â”‚
       â”‚                                         â”‚                                         â”‚
       â”‚                                         â”‚ 6. Generate JWT token                  â”‚
       â”‚                                         â”‚ payload: { sub: uuid, email, role }    â”‚
       â”‚                                         â”‚                                         â”‚
       â”‚ 7. Login success                        â”‚                                         â”‚
       â”‚ { user: {uuid, email, role}, token }    â”‚                                         â”‚
       â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                                         â”‚
       â”‚                                         â”‚                                         â”‚
       â”‚ 8. Store token in localStorage          â”‚                                         â”‚
       â”‚                                         â”‚                                         â”‚
       â”‚ 9. Set Authorization header             â”‚                                         â”‚
       â”‚                                         â”‚                                         â”‚
       â”‚ 10. GET /auth/me                        â”‚                                         â”‚
       â”‚ Authorization: Bearer <token>           â”‚                                         â”‚
       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                                         â”‚
       â”‚                                         â”‚ 11. Validate JWT signature             â”‚
       â”‚                                         â”‚                                         â”‚
       â”‚                                         â”‚ 12. Extract payload                    â”‚
       â”‚                                         â”‚                                         â”‚
       â”‚                                         â”‚ 13. Find user by UUID                  â”‚
       â”‚                                         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
       â”‚                                         â”‚                                         â”‚
       â”‚                                         â”‚ 14. User profile                       â”‚
       â”‚                                         â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
       â”‚                                         â”‚                                         â”‚
       â”‚ 15. User profile                        â”‚                                         â”‚
       â”‚ { uuid, email, role, created_at }       â”‚                                         â”‚
       â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                                         â”‚
       â”‚                                         â”‚                                         â”‚
       â”‚ 16. Redirect to dashboard               â”‚                                         â”‚
       â”‚                                         â”‚                                         â”‚
```

### 2.5. Avatar & Profile System Architecture (BLOB Storage)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        AVATAR & PROFILE SYSTEM                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                         Frontend Layer                                  â”‚   â”‚
â”‚  â”‚                                                                         â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚   â”‚
â”‚  â”‚  â”‚   Profile   â”‚    â”‚   Header    â”‚    â”‚    Users    â”‚                 â”‚   â”‚
â”‚  â”‚  â”‚    Page     â”‚    â”‚  Component  â”‚    â”‚    Table    â”‚                 â”‚   â”‚
â”‚  â”‚  â”‚             â”‚    â”‚             â”‚    â”‚             â”‚                 â”‚   â”‚
â”‚  â”‚  â”‚ â€¢ File      â”‚    â”‚ â€¢ Avatar    â”‚    â”‚ â€¢ Avatar    â”‚                 â”‚   â”‚
â”‚  â”‚  â”‚   Upload    â”‚    â”‚   Display   â”‚    â”‚   Column    â”‚                 â”‚   â”‚
â”‚  â”‚  â”‚ â€¢ Preview   â”‚    â”‚ â€¢ Click to  â”‚    â”‚ â€¢ Fallback  â”‚                 â”‚   â”‚
â”‚  â”‚  â”‚ â€¢ Form      â”‚    â”‚   Profile   â”‚    â”‚   Initials  â”‚                 â”‚   â”‚
â”‚  â”‚  â”‚   Validationâ”‚    â”‚ â€¢ Fallback  â”‚    â”‚ â€¢ Thumbnail â”‚                 â”‚   â”‚
â”‚  â”‚  â”‚             â”‚    â”‚   Initials  â”‚    â”‚   Display   â”‚                 â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚   â”‚
â”‚  â”‚         â”‚                    â”‚                   â”‚                     â”‚   â”‚
â”‚  â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚   â”‚
â”‚  â”‚                              â”‚                                         â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚  â”‚              File Processing APIs                                â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ FileReader.readAsDataURL() - Image Preview                  â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ FormData.append() - Multipart Upload                        â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ File.size & File.type - Client Validation                   â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ fetch() with Authorization header                           â”‚   â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                      â”‚                                         â”‚
â”‚                            HTTPS Multipart/Form-Data                          â”‚
â”‚                                      â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                          Backend Layer                                  â”‚   â”‚
â”‚  â”‚                                                                         â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚   â”‚
â”‚  â”‚  â”‚    Users    â”‚    â”‚   Avatar    â”‚    â”‚   Database  â”‚                 â”‚   â”‚
â”‚  â”‚  â”‚ Controller  â”‚    â”‚ Controller  â”‚    â”‚ Repository  â”‚                 â”‚   â”‚
â”‚  â”‚  â”‚             â”‚    â”‚             â”‚    â”‚             â”‚                 â”‚   â”‚
â”‚  â”‚  â”‚ â€¢ POST      â”‚    â”‚ â€¢ GET       â”‚    â”‚ â€¢ BLOB      â”‚                 â”‚   â”‚
â”‚  â”‚  â”‚   /avatar   â”‚    â”‚   /:uuid    â”‚    â”‚   Storage   â”‚                 â”‚   â”‚
â”‚  â”‚  â”‚ â€¢ Multer    â”‚    â”‚ â€¢ Direct    â”‚    â”‚ â€¢ Update    â”‚                 â”‚   â”‚
â”‚  â”‚  â”‚   Upload    â”‚    â”‚   BLOB      â”‚    â”‚   Methods   â”‚                 â”‚   â”‚
â”‚  â”‚  â”‚ â€¢ Memory    â”‚    â”‚   Serving   â”‚    â”‚ â€¢ Query     â”‚                 â”‚   â”‚
â”‚  â”‚  â”‚   Buffer    â”‚    â”‚ â€¢ Headers   â”‚    â”‚   Builder   â”‚                 â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚   â”‚
â”‚  â”‚         â”‚                    â”‚                   â”‚                     â”‚   â”‚
â”‚  â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚   â”‚
â”‚  â”‚                              â”‚                                         â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚  â”‚                    Multer Middleware                            â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ memoryStorage() - In-Memory Buffer Storage                  â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ fileFilter() - MIME Type Validation                         â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ limits - Size Restrictions (5MB)                            â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ Single file upload with field name validation              â”‚   â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                      â”‚                                         â”‚
â”‚                                 BLOB Updates                                   â”‚
â”‚                                      â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                         Database Layer                                  â”‚   â”‚
â”‚  â”‚                                                                         â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚  â”‚                      users Table                                â”‚   â”‚   â”‚
â”‚  â”‚  â”‚                                                                 â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ avatar_data        LONGBLOB      - Image binary data        â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ avatar_mime_type   VARCHAR(100)  - Content-Type             â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ avatar_size_bytes  INT           - File size                â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ avatar_uploaded_at DATETIME(6)   - Upload timestamp         â”‚   â”‚   â”‚
â”‚  â”‚  â”‚                                                                 â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  Benefits:                                                      â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ No file system management needed                            â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ Atomic transactions ensure consistency                      â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ Simplified backup/restore process                           â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ No orphaned files or directory cleanup                      â”‚   â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                      â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                      BLOB Serving Flow                                  â”‚   â”‚
â”‚  â”‚                                                                         â”‚   â”‚
â”‚  â”‚  1. Client requests: GET /avatar/{uuid}                                â”‚   â”‚
â”‚  â”‚  2. Controller queries database by uuid                                â”‚   â”‚
â”‚  â”‚  3. Database returns BLOB data + metadata                              â”‚   â”‚
â”‚  â”‚  4. Controller sets HTTP headers:                                      â”‚   â”‚
â”‚  â”‚     â€¢ Content-Type: {avatar_mime_type}                                 â”‚   â”‚
â”‚  â”‚     â€¢ Content-Length: {avatar_size_bytes}                              â”‚   â”‚
â”‚  â”‚     â€¢ Last-Modified: {avatar_uploaded_at}                              â”‚   â”‚
â”‚  â”‚     â€¢ Cache-Control: public, max-age=86400                             â”‚   â”‚
â”‚  â”‚  5. Send BLOB data directly to client                                  â”‚   â”‚
â”‚  â”‚                                                                         â”‚   â”‚
â”‚  â”‚  Advantages over filesystem:                                           â”‚   â”‚
â”‚  â”‚  â€¢ No static file serving configuration                                â”‚   â”‚
â”‚  â”‚  â€¢ Database handles concurrent access                                  â”‚   â”‚
â”‚  â”‚  â€¢ Built-in access control via application layer                      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. CRUD Operation Flow - Create Book

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   User UI   â”‚     â”‚  Frontend   â”‚     â”‚   Backend   â”‚     â”‚  TypeORM    â”‚     â”‚  Database   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                     â”‚                   â”‚                   â”‚                   â”‚
       â”‚ 1. Click "Add Book" â”‚                   â”‚                   â”‚                   â”‚
       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                   â”‚                   â”‚                   â”‚
       â”‚                     â”‚ 2. Show modal     â”‚                   â”‚                   â”‚
       â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                   â”‚                   â”‚                   â”‚
       â”‚                     â”‚                   â”‚                   â”‚                   â”‚
       â”‚ 3. Fill form        â”‚                   â”‚                   â”‚                   â”‚
       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                   â”‚                   â”‚                   â”‚
       â”‚                     â”‚ 4. Validate form â”‚                   â”‚                   â”‚
       â”‚                     â”‚                   â”‚                   â”‚                   â”‚
       â”‚ 5. Submit           â”‚                   â”‚                   â”‚                   â”‚
       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                   â”‚                   â”‚                   â”‚
       â”‚                     â”‚ 6. POST /books    â”‚                   â”‚                   â”‚
       â”‚                     â”‚ Authorization:    â”‚                   â”‚                   â”‚
       â”‚                     â”‚ Bearer <token>    â”‚                   â”‚                   â”‚
       â”‚                     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                   â”‚                   â”‚
       â”‚                     â”‚                   â”‚ 7. Extract JWT    â”‚                   â”‚
       â”‚                     â”‚                   â”‚                   â”‚                   â”‚
       â”‚                     â”‚                   â”‚ 8. Check role     â”‚                   â”‚
       â”‚                     â”‚                   â”‚ (admin only)      â”‚                   â”‚
       â”‚                     â”‚                   â”‚                   â”‚                   â”‚
       â”‚                     â”‚                   â”‚ 9. Validate DTO   â”‚                   â”‚
       â”‚                     â”‚                   â”‚                   â”‚                   â”‚
       â”‚                     â”‚                   â”‚ 10. Generate UUID â”‚                   â”‚
       â”‚                     â”‚                   â”‚                   â”‚                   â”‚
       â”‚                     â”‚                   â”‚ 11. Create entity â”‚                   â”‚
       â”‚                     â”‚                   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                   â”‚
       â”‚                     â”‚                   â”‚                   â”‚ 12. INSERT query â”‚
       â”‚                     â”‚                   â”‚                   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
       â”‚                     â”‚                   â”‚                   â”‚                   â”‚
       â”‚                     â”‚                   â”‚                   â”‚ 13. Return ID     â”‚
       â”‚                     â”‚                   â”‚                   â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
       â”‚                     â”‚                   â”‚ 14. Book entity   â”‚                   â”‚
       â”‚                     â”‚                   â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                   â”‚
       â”‚                     â”‚                   â”‚                   â”‚                   â”‚
       â”‚                     â”‚ 15. Transform     â”‚                   â”‚                   â”‚
       â”‚                     â”‚ (hide internal ID)â”‚                   â”‚                   â”‚
       â”‚                     â”‚                   â”‚                   â”‚                   â”‚
       â”‚                     â”‚ 16. Created book  â”‚                   â”‚                   â”‚
       â”‚                     â”‚ { uuid, title,... }â”‚                   â”‚                   â”‚
       â”‚                     â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                   â”‚                   â”‚
       â”‚                     â”‚                   â”‚                   â”‚                   â”‚
       â”‚ 17. Update UI       â”‚                   â”‚                   â”‚                   â”‚
       â”‚ Show success        â”‚                   â”‚                   â”‚                   â”‚
       â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                   â”‚                   â”‚                   â”‚
       â”‚                     â”‚                   â”‚                   â”‚                   â”‚
```

### 4. Data Security Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            SECURITY LAYERS                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                 â”‚
â”‚  Layer 1: Frontend Security                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ â€¢ Input Validation (Form validation, sanitization)                     â”‚   â”‚
â”‚  â”‚ â€¢ XSS Prevention (React's built-in escaping)                          â”‚   â”‚
â”‚  â”‚ â€¢ Token Storage (localStorage with expiration check)                   â”‚   â”‚
â”‚  â”‚ â€¢ Role-based UI (Conditional rendering based on user role)            â”‚   â”‚
â”‚  â”‚ â€¢ HTTPS Enforcement (Secure communication only)                       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                        â”‚                                       â”‚
â”‚                                        â–¼                                       â”‚
â”‚  Layer 2: Transport Security                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ â€¢ TLS 1.2+ Encryption (All API communication encrypted)                â”‚   â”‚
â”‚  â”‚ â€¢ CORS Policy (Restricted origins and methods)                         â”‚   â”‚
â”‚  â”‚ â€¢ JWT Token Authentication (Stateless authentication)                  â”‚   â”‚
â”‚  â”‚ â€¢ Request/Response Validation (Schema validation)                      â”‚   â”‚
â”‚  â”‚ â€¢ Security Headers (Helmet.js middleware)                              â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                        â”‚                                       â”‚
â”‚                                        â–¼                                       â”‚
â”‚  Layer 3: Application Security                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ â€¢ JWT Signature Validation (Secret-based verification)                 â”‚   â”‚
â”‚  â”‚ â€¢ Role-based Access Control (Admin/Student permissions)                â”‚   â”‚
â”‚  â”‚ â€¢ Input Sanitization (class-validator DTOs)                           â”‚   â”‚
â”‚  â”‚ â€¢ Error Handling (Secure error messages)                              â”‚   â”‚
â”‚  â”‚ â€¢ Rate Limiting (API call frequency control)                          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                        â”‚                                       â”‚
â”‚                                        â–¼                                       â”‚
â”‚  Layer 4: Data Access Security                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ â€¢ Dual-ID Pattern (Internal auto-increment + Client UUID)              â”‚   â”‚
â”‚  â”‚ â€¢ SQL Injection Prevention (TypeORM parameterized queries)             â”‚   â”‚
â”‚  â”‚ â€¢ Connection Pool Security (Limited connections)                       â”‚   â”‚
â”‚  â”‚ â€¢ Query Optimization (Indexed lookups)                                 â”‚   â”‚
â”‚  â”‚ â€¢ Transaction Management (ACID compliance)                             â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                        â”‚                                       â”‚
â”‚                                        â–¼                                       â”‚
â”‚  Layer 5: Database Security                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ â€¢ Password Hashing (bcrypt with salt rounds)                           â”‚   â”‚
â”‚  â”‚ â€¢ Schema Validation (NOT NULL, UNIQUE constraints)                     â”‚   â”‚
â”‚  â”‚ â€¢ User Permissions (Database-level access control)                     â”‚   â”‚
â”‚  â”‚ â€¢ Data Encryption (Connection and at-rest encryption)                  â”‚   â”‚
â”‚  â”‚ â€¢ Audit Trail (created_at, updated_at timestamps)                      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Dual-ID Security Pattern Detail:

Client View:                          Server View:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   UUID      â”‚                      â”‚ Internal ID â”‚
â”‚ b4c2e8a1-   â”‚ â—„â”€â”€â”€ Exposed â”€â”€â”€â”€â”€â”€â–º â”‚     123     â”‚ â—„â”€â”€â”€ Hidden
â”‚ 4f7d-4c9b-  â”‚                      â”‚     124     â”‚
â”‚ a1e3-       â”‚                      â”‚     125     â”‚
â”‚ 2d8f9b7e    â”‚                      â”‚     ...     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                                    â”‚
       â–¼                                    â–¼
 Public facing                       Fast DB operations
 Non-sequential                      Sequential numbering
 Unpredictable                       Predictable patterns
 URL safe                            Internal use only
```

### 5. Real-time User Interaction Flow

```
User Journey: Student Login â†’ View Books â†’ Admin Creates Book â†’ Student Sees Update

Timeline: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶

Student Browser:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Login     â”‚  â”‚  Dashboard  â”‚  â”‚ View Books  â”‚  â”‚ Auto-Refreshâ”‚  â”‚ See New Bookâ”‚
â”‚   Page      â”‚  â”‚   Loads     â”‚  â”‚    List     â”‚  â”‚  Triggered  â”‚  â”‚    Added    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                â”‚                â”‚                â”‚                â”‚
       â”‚ POST /auth/     â”‚ GET /books     â”‚ Polling/       â”‚ GET /books     â”‚
       â”‚ login           â”‚                â”‚ WebSocket      â”‚                â”‚
       â–¼                â–¼                â–¼                â–¼                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              Backend API                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   Validate  â”‚  â”‚   Return    â”‚  â”‚   Return    â”‚  â”‚   Process   â”‚  â”‚ Return â”‚ â”‚
â”‚  â”‚  Creds +    â”‚  â”‚   Books     â”‚  â”‚   Books     â”‚  â”‚   Admin     â”‚  â”‚Updated â”‚ â”‚
â”‚  â”‚Generate JWT â”‚  â”‚    List     â”‚  â”‚    List     â”‚  â”‚   Create    â”‚  â”‚  List  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                              â–²
                                                              â”‚
Admin Browser:                                                â”‚ POST /books
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Admin     â”‚  â”‚  Dashboard  â”‚  â”‚ Click "Add  â”‚  â”‚ Submit Book â”‚
â”‚   Login     â”‚  â”‚   Panel     â”‚  â”‚    Book"    â”‚  â”‚    Form     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Database Operations:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ User Auth   â”‚  â”‚ SELECT      â”‚  â”‚ SELECT      â”‚  â”‚ INSERT      â”‚  â”‚ SELECT      â”‚
â”‚ Validation  â”‚  â”‚ * FROM      â”‚  â”‚ * FROM      â”‚  â”‚ INTO books  â”‚  â”‚ * FROM      â”‚
â”‚             â”‚  â”‚ books       â”‚  â”‚ books       â”‚  â”‚ VALUES(...) â”‚  â”‚ books       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¯ Performance Metrics & Monitoring

### Response Time Targets
```
API Endpoint Performance SLA:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Endpoint       â”‚   Target    â”‚   Warning   â”‚  Critical   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ GET /auth/me        â”‚    < 100ms  â”‚    > 200ms  â”‚   > 500ms   â”‚
â”‚ POST /auth/login    â”‚    < 200ms  â”‚    > 400ms  â”‚   > 1000ms  â”‚
â”‚ GET /books          â”‚    < 150ms  â”‚    > 300ms  â”‚   > 750ms   â”‚
â”‚ POST /books         â”‚    < 200ms  â”‚    > 400ms  â”‚   > 1000ms  â”‚
â”‚ PATCH /books/:id    â”‚    < 200ms  â”‚    > 400ms  â”‚   > 1000ms  â”‚
â”‚ DELETE /books/:id   â”‚    < 150ms  â”‚    > 300ms  â”‚   > 750ms   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Scalability Architecture
```
Horizontal Scaling Plan:

Single Instance (Current):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   NestJS    â”‚ â”€â”€ Port 3000
â”‚   Server    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   MariaDB   â”‚ â”€â”€ Port 3307
â”‚  Database   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Load Balanced (Future):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   NestJS    â”‚    â”‚   NestJS    â”‚    â”‚   NestJS    â”‚
â”‚  Server 1   â”‚    â”‚  Server 2   â”‚    â”‚  Server 3   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                   â”‚                   â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ Load        â”‚
                    â”‚ Balancer    â”‚
                    â”‚ (Nginx)     â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   MariaDB   â”‚
                    â”‚  Cluster    â”‚
                    â”‚ (Master/    â”‚
                    â”‚  Replica)   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6. Avatar Upload Flow - Detailed Sequence (BLOB Storage)

```
User: Profile Page â†’ File Selection â†’ Upload â†’ Database BLOB Update â†’ UI Refresh

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    User     â”‚ â”‚  Frontend   â”‚ â”‚   Multer    â”‚ â”‚   NestJS    â”‚ â”‚  Database   â”‚
â”‚  Interface  â”‚ â”‚  (React)    â”‚ â”‚ Middleware  â”‚ â”‚  Backend    â”‚ â”‚  (MariaDB)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚               â”‚               â”‚               â”‚               â”‚               â”‚
       â”‚ 1. Select     â”‚               â”‚               â”‚               â”‚               â”‚
       â”‚    Image      â”‚               â”‚               â”‚               â”‚               â”‚
       â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚               â”‚               â”‚               â”‚               â”‚
       â”‚               â”‚ 2. Validate   â”‚               â”‚               â”‚               â”‚
       â”‚               â”‚    File       â”‚               â”‚               â”‚               â”‚
       â”‚               â”‚    (5MB, img) â”‚               â”‚               â”‚               â”‚
       â”‚               â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚               â”‚               â”‚               â”‚
       â”‚               â”‚ 3. Generate   â”‚               â”‚               â”‚               â”‚
       â”‚               â”‚    Preview    â”‚               â”‚               â”‚               â”‚
       â”‚               â”‚    (FileReaderâ”‚               â”‚               â”‚               â”‚
       â”‚               â”‚     .readAs   â”‚               â”‚               â”‚               â”‚
       â”‚               â”‚     DataURL)  â”‚               â”‚               â”‚               â”‚
       â”‚ 4. Preview    â”‚ â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚               â”‚               â”‚               â”‚
       â”‚    Displayed  â”‚               â”‚               â”‚               â”‚               â”‚
       â”‚ â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚               â”‚               â”‚               â”‚               â”‚
       â”‚               â”‚               â”‚               â”‚               â”‚               â”‚
       â”‚ 5. Submit     â”‚               â”‚               â”‚               â”‚               â”‚
       â”‚    Form       â”‚               â”‚               â”‚               â”‚               â”‚
       â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚               â”‚               â”‚               â”‚               â”‚
       â”‚               â”‚ 6. Create     â”‚               â”‚               â”‚               â”‚
       â”‚               â”‚    FormData   â”‚               â”‚               â”‚               â”‚
       â”‚               â”‚    append     â”‚               â”‚               â”‚               â”‚
       â”‚               â”‚    ('avatar', â”‚               â”‚               â”‚               â”‚
       â”‚               â”‚     file)     â”‚               â”‚               â”‚               â”‚
       â”‚               â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚               â”‚               â”‚               â”‚
       â”‚               â”‚ 7. POST       â”‚               â”‚               â”‚               â”‚
       â”‚               â”‚    /users/    â”‚               â”‚               â”‚               â”‚
       â”‚               â”‚    avatar     â”‚               â”‚               â”‚               â”‚
       â”‚               â”‚    (multipart)â”‚               â”‚               â”‚               â”‚
       â”‚               â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚               â”‚               â”‚
       â”‚               â”‚               â”‚ 8. JWT Auth   â”‚               â”‚               â”‚
       â”‚               â”‚               â”‚    Validation â”‚               â”‚               â”‚
       â”‚               â”‚               â”‚ â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚               â”‚               â”‚
       â”‚               â”‚               â”‚ 9. Process    â”‚               â”‚
       â”‚               â”‚               â”‚    Upload     â”‚               â”‚
       â”‚               â”‚               â”‚    (memory)   â”‚               â”‚
       â”‚               â”‚               â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚               â”‚
       â”‚               â”‚               â”‚ 10. File      â”‚               â”‚
       â”‚               â”‚               â”‚     Type      â”‚               â”‚
       â”‚               â”‚               â”‚     Check     â”‚               â”‚
       â”‚               â”‚               â”‚     (MIME)    â”‚               â”‚
       â”‚               â”‚               â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚               â”‚
       â”‚               â”‚               â”‚ 11. Size      â”‚               â”‚
       â”‚               â”‚               â”‚     Limit     â”‚               â”‚
       â”‚               â”‚               â”‚     (5MB)     â”‚               â”‚
       â”‚               â”‚               â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚               â”‚
       â”‚               â”‚               â”‚ 12. Extract   â”‚               â”‚
       â”‚               â”‚               â”‚     Buffer    â”‚               â”‚
       â”‚               â”‚               â”‚     and       â”‚               â”‚
       â”‚               â”‚               â”‚     Metadata  â”‚               â”‚
       â”‚               â”‚               â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚               â”‚
       â”‚               â”‚               â”‚ 13. Update    â”‚               â”‚
       â”‚               â”‚               â”‚     User      â”‚               â”‚
       â”‚               â”‚               â”‚     Avatar    â”‚               â”‚
       â”‚               â”‚               â”‚     BLOB      â”‚               â”‚
       â”‚               â”‚               â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
       â”‚               â”‚               â”‚ 14. UPDATE    â”‚               â”‚
       â”‚               â”‚               â”‚     users     â”‚               â”‚
       â”‚               â”‚               â”‚     SET       â”‚               â”‚
       â”‚               â”‚               â”‚     avatar_   â”‚               â”‚
       â”‚               â”‚               â”‚     data=?,   â”‚               â”‚
       â”‚               â”‚               â”‚     mime_type â”‚               â”‚
       â”‚               â”‚               â”‚     =?, etc.  â”‚               â”‚
       â”‚               â”‚               â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚               â”‚
       â”‚               â”‚               â”‚ 15. BLOB      â”‚               â”‚
       â”‚               â”‚               â”‚     Success   â”‚               â”‚
       â”‚               â”‚               â”‚ â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚               â”‚
       â”‚               â”‚ 16. Upload    â”‚               â”‚               â”‚
       â”‚               â”‚     Success   â”‚               â”‚               â”‚
       â”‚               â”‚ â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚               â”‚
       â”‚ 17. Success   â”‚               â”‚               â”‚               â”‚
       â”‚     Message   â”‚               â”‚               â”‚               â”‚
       â”‚ â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚               â”‚               â”‚               â”‚
       â”‚               â”‚ 18. Refresh   â”‚               â”‚               â”‚
       â”‚               â”‚     User      â”‚               â”‚               â”‚
       â”‚               â”‚     Profile   â”‚               â”‚               â”‚
       â”‚               â”‚     (GET      â”‚               â”‚               â”‚
       â”‚               â”‚     /auth/me) â”‚               â”‚               â”‚
       â”‚               â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚               â”‚
       â”‚               â”‚               â”‚               â”‚ 19. SELECT    â”‚
       â”‚               â”‚               â”‚               â”‚     uuid,     â”‚
       â”‚               â”‚               â”‚               â”‚     email,    â”‚
       â”‚               â”‚               â”‚               â”‚     role      â”‚
       â”‚               â”‚               â”‚               â”‚     FROM      â”‚
       â”‚               â”‚               â”‚               â”‚     users     â”‚
       â”‚               â”‚               â”‚               â”‚     WHERE     â”‚
       â”‚               â”‚               â”‚               â”‚     uuid=?    â”‚
       â”‚               â”‚               â”‚               â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
       â”‚               â”‚               â”‚               â”‚ 20. User      â”‚
       â”‚               â”‚               â”‚               â”‚     Data      â”‚
       â”‚               â”‚               â”‚               â”‚     (no BLOB) â”‚
       â”‚               â”‚               â”‚               â”‚ â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
       â”‚               â”‚ 21. Updated   â”‚               â”‚               â”‚
       â”‚               â”‚     Profile   â”‚               â”‚               â”‚
       â”‚               â”‚     Data      â”‚               â”‚               â”‚
       â”‚               â”‚ â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚               â”‚
       â”‚ 22. UI        â”‚               â”‚               â”‚               â”‚
       â”‚     Update    â”‚               â”‚               â”‚               â”‚
       â”‚     (Avatar   â”‚               â”‚               â”‚               â”‚
       â”‚     Loads via â”‚               â”‚               â”‚               â”‚
       â”‚     /avatar/  â”‚               â”‚               â”‚               â”‚
       â”‚     {uuid})   â”‚               â”‚               â”‚               â”‚
       â”‚ â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚               â”‚               â”‚               â”‚
       â”‚               â”‚               â”‚               â”‚               â”‚

BLOB Storage Benefits:
â€¢ No file system management â†’ Simplified deployment
â€¢ Atomic transactions â†’ Data consistency guaranteed
â€¢ No orphaned files â†’ Automatic cleanup via database
â€¢ Direct serving â†’ No static file configuration needed
â€¢ Integrated access control â†’ Database permissions apply

Error Handling:
â€¢ File too large â†’ Client validation prevents upload
â€¢ Invalid file type â†’ Multer rejects with error  
â€¢ Database error â†’ Transaction rollback ensures consistency
â€¢ Network failure â†’ Frontend shows retry option
â€¢ Server error â†’ File cleanup and user notification
â€¢ Database error â†’ Rollback file save
```

This comprehensive diagram collection provides production-ready visualizations of the entire system architecture, from user interactions to database operations, security layers, performance considerations, and the complete avatar/profile management system.